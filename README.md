## Сервис рассылок

## Рекомендуемое разрешение экрана для проекта 1920х1080

# Установка:
1. Убедитесь, что у вас установлен python 3.11 или более новая версия
2. Убедитесь, что у вас установлен PostgreSQL и запущен локальный сервер для базы данных
3. Склонировать репозиторий
4. Создать и активировать виртуальное окружениеpython -m venv ваша_папка_для_виртуального_окружения
5. Установить зависимости командой pip install -r requirements.txt
6. Создать миграции через python3 manage.py makemigrations и применить их python3 manage.py migrate
7. В файле .env.sample заполнить данные для работы с проектом и переименовать его в .env
8. Запустить через команду python3 manage.py runserver

### Создание суперпользователя 
- Введите в консоль команду python manage.py createsuperuser

### Ручной запуск отправки писем:
- Запустив сервер через команду python3 manage.py runserver, введите в консоли вашей IDE python manage.py sendscheduledemail

# Используемые технологии:
1. HTML-вёрстка
2. CSS на основе шаблонов bootstrap
3. Используются кастомные шаблонные фильтры
4. APScheduler для периодических задач
5. Разграничение ролей пользователей на уровне шаблонов и контроллеров:
6. Анонимный пользователь видит только главную страницу и может просматривать блоги
7. Зарегистрированный пользователь может просматривать, редактировать и удалять только свои рассылки, клиентов и письма
8. Модератор может просматривать пользователей и рассылки, а также отключать пользователей и рассылки. При этом он не может редактировать или удалять пользовательские рассылки, клиентов или письма 
9. Для того чтобы определить роль контекст-менеджера, зайдите в админку под паролем superuser'a и установите для него необходимые разрешения для создания, редактирования и удаления блога. Далее - заходить этим пользователем в админку. 
10. Два вида кеширования(низкоуровневый для выборки статистики по рассылкам и блогов в БД, на уровне контроллера - страница с конкретным блогом)

# Логика работы системы:
После создания новой рассылки, если текущее время больше времени начала и меньше времени окончания, то должны быть выбраны из справочника все клиенты, которые указаны в настройках рассылки, и запущена отправка для всех этих клиентов.
Если создается рассылка со временем старта в будущем, то отправка должна стартовать автоматически по наступлению этого времени без дополнительных действий со стороны пользователя системы.
По ходу отправки сообщений должна собираться статистика по каждому сообщению для последующего формирования отчетов.